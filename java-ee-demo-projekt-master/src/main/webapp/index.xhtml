<?xml version="1.0" encoding="UTF-8"?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:p="http://primefaces.org/ui"
                template="/templates/default.xhtml">
    <ui:define name="content">

        <h1>BMI</h1>
        <h:form>
        <span class="ui-input-icon-left">
            <i class="pi pi-search"/>
            <p:inputText id="bmiSearch" placeholder="Search" value="#{bigMacOverview.search}">
                <p:ajax update="bmiTable" listener="#{bigMacOverview.setSearch(bigMacOverview)}"/>
            </p:inputText>
        </span>
        </h:form>
        <p:dataTable id="bmiTable" var="bigMac" value="#{bigMacOverview.getCountryValues(bigMacOverview.search)}" size="small">
            <p:headerRow field="country_iso"
                         expandable="true"
                         expanded="false">
                <p:column colspan="1">
                    <h:outputText value="#{bigMac.country_iso}"/>
                </p:column>
            </p:headerRow>
<!--            <p:column groupRow="true">-->
<!--                <f:facet name="header">Region</f:facet>-->
<!--                <h:outputText value="#{bigMac.country_iso}"/>-->
<!--            </p:column>-->
            <p:column >
                <f:facet name="header">Stand</f:facet>
                <h:outputText value="#{bigMac.tstamp}"/>
            </p:column>
            <p:column>
                <f:facet name="header">Preis in $</f:facet>
                <h:outputText value="#{bigMac.dollar_price}">
                    <f:convertNumber type="number" groupingUsed="true" minFractionDigits="2" pattern="#0.00$"/>
                </h:outputText>
            </p:column>
        </p:dataTable>


    </ui:define>
    <ui:define name="rechts">


    </ui:define>

    <ui:define name="footer">


    </ui:define>
</ui:composition>